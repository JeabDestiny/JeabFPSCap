-- JeabDestiny Hub (FPS Tools) + Auto Anti-AFK — by JeabStyle งับ
-- รวม: FPS Lock + FPS Counter + FPS Booster + Anti-AFK อัตโนมัติ

local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local Lighting = game:GetService("Lighting")
local TweenService = game:GetService("TweenService")
local UserInputService = game:GetService("UserInputService")
local VirtualUser = game:GetService("VirtualUser")
local player = Players.LocalPlayer
local playerGui = player:WaitForChild("PlayerGui")

-- ลบ GUI เก่าเพื่อป้องกันการซ้ำ
if playerGui:FindFirstChild("JeabDestinyUI") then
	playerGui.JeabDestinyUI:Destroy()
end

-- ตัวแปรพื้นฐาน
local currentCap = (getfpscap and getfpscap()) or 60
local gui = Instance.new("ScreenGui", playerGui)
gui.Name = "JeabDestinyUI"
gui.IgnoreGuiInset = true
gui.ResetOnSpawn = false
gui.DisplayOrder = 999999
gui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling

-- Main Panel
local main = Instance.new("Frame", gui)
main.Size = UDim2.new(0, 360, 0, 320)
main.Position = UDim2.new(0, 30, 0, 60)
main.BackgroundColor3 = Color3.fromRGB(30, 30, 36)
Instance.new("UICorner", main).CornerRadius = UDim.new(0, 12)
local stroke = Instance.new("UIStroke", main)
stroke.Color = Color3.fromRGB(255, 215, 100)
stroke.Thickness = 1.4

-- Title (ลากได้)
local title = Instance.new("TextLabel", main)
title.Size = UDim2.new(1, -20, 0, 36)
title.Position = UDim2.new(0, 10, 0, 8)
title.BackgroundTransparency = 1
title.Text = "JeabDestiny Hub"
title.Font = Enum.Font.GothamBold
title.TextSize = 18
title.TextColor3 = Color3.fromRGB(255, 230, 140)
title.TextXAlignment = Enum.TextXAlignment.Left

-- Drag logic
do
	local dragging, dragStart, startPos
	title.InputBegan:Connect(function(input)
		if input.UserInputType == Enum.UserInputType.MouseButton1 then
			dragging = true
			dragStart = input.Position
			startPos = main.Position
			input.Changed:Connect(function()
				if input.UserInputState == Enum.UserInputState.End then dragging = false end
			end)
		end
	end)
	UserInputService.InputChanged:Connect(function(input)
		if dragging and input.UserInputType == Enum.UserInputType.MouseMovement then
			local delta = input.Position - dragStart
			main.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
		end
	end)
end

-- FPS Counter
local fpsLabel = Instance.new("TextLabel", main)
fpsLabel.Size = UDim2.new(1, -20, 0, 30)
fpsLabel.Position = UDim2.new(0, 10, 0, 50)
fpsLabel.BackgroundTransparency = 1
fpsLabel.Text = "FPS: ..."
fpsLabel.Font = Enum.Font.GothamBold
fpsLabel.TextSize = 18
fpsLabel.TextColor3 = Color3.fromRGB(255, 220, 120)
fpsLabel.TextXAlignment = Enum.TextXAlignment.Left

-- FPS Update
local last, frames = tick(), 0
RunService.RenderStepped:Connect(function()
	frames = frames + 1
	if tick() - last >= 1 then
		pcall(function() fpsLabel.Text = "FPS: " .. frames end)
		frames = 0
		last = tick()
	end
end)

-- FPS Cap Buttons
local presetValues = {5, 10, 15, 30, 60, 144}
local buttons = {}

local buttonFrame = Instance.new("Frame", main)
buttonFrame.Size = UDim2.new(1, -20, 0, 120)
buttonFrame.Position = UDim2.new(0, 10, 0, 90)
buttonFrame.BackgroundColor3 = Color3.fromRGB(36, 36, 42)
Instance.new("UICorner", buttonFrame).CornerRadius = UDim.new(0, 10)

local grid = Instance.new("UIGridLayout", buttonFrame)
grid.CellSize = UDim2.new(0, 100, 0, 34)
grid.CellPadding = UDim2.new(0, 8, 0, 8)
grid.FillDirectionMaxCells = 3
grid.HorizontalAlignment = Enum.HorizontalAlignment.Center
grid.VerticalAlignment = Enum.VerticalAlignment.Center

local function updateButtons()
	for v, btn in pairs(buttons) do
		if v == currentCap then
			btn.BackgroundColor3 = Color3.fromRGB(255, 230, 140)
			btn.TextColor3 = Color3.fromRGB(40, 30, 10)
			btn.Text = v .. " FPS ✓"
		else
			btn.BackgroundColor3 = Color3.fromRGB(255, 220, 120)
			btn.TextColor3 = Color3.fromRGB(60, 40, 10)
			btn.Text = v .. " FPS"
		end
	end
end

for _, v in ipairs(presetValues) do
	local b = Instance.new("TextButton", buttonFrame)
	b.Font = Enum.Font.GothamSemibold
	b.TextSize = 14
	b.BackgroundColor3 = Color3.fromRGB(255, 220, 120)
	b.TextColor3 = Color3.fromRGB(60, 40, 10)
	b.Text = v .. " FPS"
	Instance.new("UICorner", b).CornerRadius = UDim.new(0, 8)

	buttons[v] = b
	b.MouseButton1Click:Connect(function()
		currentCap = v
		if setfpscap then pcall(setfpscap, v) end
		updateButtons()
	end)
end
updateButtons()

-- FPS Booster
local function ApplyFPSBooster()
	local Settings = {
		["No Particles"] = true,
		["No Explosions"] = true,
		["No Clothes"] = true,
		["No Shadows"] = true,
		["Low Water Graphics"] = true,
		["Low Quality Parts"] = true
	}

	for _, obj in pairs(workspace:GetDescendants()) do
		if obj:IsA("ParticleEmitter") or obj:IsA("Trail") or obj:IsA("Smoke") or obj:IsA("Fire") or obj:IsA("Sparkles") then
			obj.Enabled = false
		elseif obj:IsA("Explosion") then
			obj.Visible = false
		elseif obj:IsA("Shirt") or obj:IsA("Pants") or obj:IsA("ShirtGraphic") then
			obj:Destroy()
		elseif obj:IsA("BasePart") then
			obj.Material = Enum.Material.SmoothPlastic
			obj.Reflectance = 0
		elseif obj:IsA("Decal") or obj:IsA("Texture") then
			obj.Transparency = 1
		end
	end

	Lighting.GlobalShadows = false
	local t = workspace:FindFirstChildOfClass("Terrain")
	if t then
		t.WaterWaveSize = 0
		t.WaterWaveSpeed = 0
		t.WaterTransparency = 1
		t.WaterReflectance = 0
	end

	print("✅ FPS Booster Activated")
end

local boostBtn = Instance.new("TextButton", main)
boostBtn.Size = UDim2.new(0, 160, 0, 38)
boostBtn.Position = UDim2.new(0.5, -80, 0, 220)
boostBtn.Text = "เปิดโหมด FPS Booster"
boostBtn.Font = Enum.Font.GothamBold
boostBtn.TextSize = 14
boostBtn.BackgroundColor3 = Color3.fromRGB(255, 200, 120)
Instance.new("UICorner", boostBtn).CornerRadius = UDim.new(0, 8)
boostBtn.MouseButton1Click:Connect(function()
	ApplyFPSBooster()
	boostBtn.Text = "✅ เปิดแล้ว"
	boostBtn.BackgroundColor3 = Color3.fromRGB(70, 200, 120)
end)

-- Anti-AFK (Auto)
local afkFrame = Instance.new("Frame", main)
afkFrame.Size = UDim2.new(1, -20, 0, 40)
afkFrame.Position = UDim2.new(0, 10, 0, 266)
afkFrame.BackgroundTransparency = 1

local afkDot = Instance.new("Frame", afkFrame)
afkDot.Size = UDim2.new(0, 12, 0, 12)
afkDot.Position = UDim2.new(0, 6, 0, 4)
Instance.new("UICorner", afkDot).CornerRadius = UDim.new(1, 0)
afkDot.BackgroundColor3 = Color3.fromRGB(80, 200, 120) -- เขียว

local afkLabel = Instance.new("TextLabel", afkFrame)
afkLabel.Size = UDim2.new(1, -28, 1, 0)
afkLabel.Position = UDim2.new(0, 28, 0, 0)
afkLabel.BackgroundTransparency = 1
afkLabel.Font = Enum.Font.Gotham
afkLabel.TextSize = 14
afkLabel.TextColor3 = Color3.fromRGB(220, 220, 220)
afkLabel.TextXAlignment = Enum.TextXAlignment.Left
afkLabel.Text = "Anti-AFK: ทำงานอัตโนมัติ"

player.Idled:Connect(function()
	afkLabel.Text = "Anti-AFK: ป้องกันการเตะอยู่..."
	afkDot.BackgroundColor3 = Color3.fromRGB(255, 180, 60)
	pcall(function()
		VirtualUser:CaptureController()
		VirtualUser:ClickButton2(Vector2.new(0,0))
	end)
	wait(1.2)
	afkLabel.Text = "Anti-AFK: ทำงานอัตโนมัติ"
	afkDot.BackgroundColor3 = Color3.fromRGB(80, 200, 120)
end)

-- Dock Button (มุมล่างซ้าย)
local dock = Instance.new("ImageButton", gui)
dock.Size = UDim2.new(0, 56, 0, 56)
dock.AnchorPoint = Vector2.new(0, 1)
dock.Position = UDim2.new(0, 20, 1, -20)
dock.BackgroundTransparency = 1
dock.Image = "rbxassetid://72865689357102"
dock.ScaleType = Enum.ScaleType.Fit
Instance.new("UICorner", dock).CornerRadius = UDim.new(0, 12)

local dStroke = Instance.new("UIStroke", dock)
dStroke.Thickness = 1.2
dStroke.Color = Color3.fromRGB(255, 230, 140)

dock.MouseEnter:Connect(function()
	TweenService:Create(dock, TweenInfo.new(0.15), {Size = UDim2.new(0, 62, 0, 62)}):Play()
end)
dock.MouseLeave:Connect(function()
	TweenService:Create(dock, TweenInfo.new(0.15), {Size = UDim2.new(0, 56, 0, 56)}):Play()
end)
dock.MouseButton1Click:Connect(function()
	main.Visible = not main.Visible
end)

print("✅ JeabDestiny Hub Loaded (FPS + Auto Anti-AFK)")
